{
  "permissions": {
    "allow": [
      // ============================================
      // Git Operations (All PRs)
      // ============================================
      // Fetching PR branches
      "Bash(git fetch:*)",

      // Checking out PR branches and base branches
      "Bash(git checkout:*)",

      // Viewing diffs between branches
      "Bash(git diff:*)",

      // Viewing commit history and details
      "Bash(git log:*)",
      "Bash(git show:*)",

      // Branch operations
      "Bash(git branch:*)",

      // Finding merge base between branches
      "Bash(git merge-base:*)",

      // Checking branch references
      "Bash(git show-ref:*)",

      // Author statistics for git-risk-analysis
      "Bash(git shortlog:*)",

      // ============================================
      // GitHub CLI
      // ============================================
      // Fetching PR metadata (title, body, files, etc.)
      "Bash(gh pr view:*)",

      // ============================================
      // Directory Operations
      // ============================================
      // Creating output directories for PR analysis
      "Bash(mkdir:*)",

      // ============================================
      // File Operations
      // ============================================
      // Reading JSON files, diffs, and other outputs
      "Bash(cat:*)",

      // Searching through files (used by fact-extractor)
      "Bash(grep:*)",

      // Counting lines (used by git-risk-analysis)
      "Bash(wc:*)",

      // Python scripts (if needed for custom analysis)
      "Bash(python3:*)",

      // ============================================
      // Read Operations
      // ============================================
      // Reading analysis outputs (risk-analysis.json, metadata.json, etc.)
      "Read(output/**)",

      // Reading agent configurations and templates
      "Read(.claude/**)",

      // Reading template files for reports
      "Read(templates/**)",

      // Reading workspace/repository files for analysis
      "Read(workspace/**)",

      // ============================================
      // Write Operations
      // ============================================
      // Writing analysis outputs (reports, JSON files, facts)
      "Write(output/**)",

      // ============================================
      // MCP Tree-sitter Tools
      // ============================================
      // Registering project for AST analysis
      "mcp__tree_sitter__register_project_tool",

      // Extracting symbols (functions, classes, etc.)
      "mcp__tree_sitter__get_symbols",

      // Extracting dependencies (imports, includes)
      "mcp__tree_sitter__get_dependencies",

      // Running custom tree-sitter queries
      "mcp__tree_sitter__run_query",

      // Listing supported languages
      "mcp__tree_sitter__list_languages",

      // Reading file content via tree-sitter
      "mcp__tree_sitter__get_file",

      // Finding symbol usage (fan-in analysis)
      "mcp__tree_sitter__find_usage",

      // Listing registered projects
      "mcp__tree_sitter__list_projects_tool",

      // ============================================
      // Skills and Slash Commands
      // ============================================
      // Git history analysis for code hotspots
      "Skill(git-risk-analysis)",

      // Main PR analysis command
      "SlashCommand(/analyze-pr:*)"
    ],

    "deny": [
      // Add patterns here to explicitly block certain operations
      // Example: "Bash(rm:*)" to prevent file deletion
    ],

    "ask": [
      // Add patterns here to prompt user before execution
      // Example: "Bash(git push:*)" to confirm before pushing
    ],

    // ============================================
    // MCP Server Configuration
    // ============================================
    // Enable all MCP servers defined in project settings
    "enableAllProjectMcpServers": true,

    // Specifically enable tree-sitter MCP server
    "enabledMcpjsonServers": ["tree_sitter"]
  }
}
